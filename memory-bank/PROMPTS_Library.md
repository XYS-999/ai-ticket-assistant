# PROMPTS_Library（skills 化提示词积木库）

## 使用方式（必须遵守）
1. 每次调用 Codex/AI 前，先选定本次任务类型（只读摸底/计划/实现/排错/验收复盘）。
2. 复制对应“积木块”，填空后再发送。
3. 每次提示词必须包含：①统一约束块 ②本次任务块 ③输出结构 ④验收要求（若涉及改动）。
4. 所有改动必须遵守：memory-bank/SOP_Workflow.md（流程、白名单、门禁、输出结构）。

---

## A. 统一约束块（每次必贴）
> 适用：ChatGPT / Codex / VS Code 聊天窗口（凡是要 AI 干活都贴）
【项目与规则】
- 本项目以 memory-bank 为真相源，必须遵守：memory-bank/SOP_Workflow.md
- 开发方式：按 PR 粒度；一次 PR 只做一个主题；先只读摸底→再计划→再实现→再验收
- 目录白名单：只允许修改（填入本次允许目录，如：src/、memory-bank/、.github/、scripts/、docker/）
- 禁止修改：refs/（本地参考目录，不提交）

【输出硬要求】
- 必须先输出：现状摘要（只读）+ 改动计划（文件级）+ 风险/回滚
- 未经我确认计划不得开始修改（如是 Codex 直接改代码，则必须先在回复里给出计划）
- 必须给出：Windows CMD 验收命令 + 预期结果（如本次涉及改动）
- 任何英文缩写第一次出现必须写：英文全称 + 中文解释

---

## B. 只读摸底块（Read-only Recon）
> 目标：让 AI 先理解现状，不改代码
【任务】
请只读分析当前仓库与相关文档，回答：
1) 与本次主题相关的现有文件/配置在哪里
2) 当前实现状态是什么（已具备/缺失/占位）
3) 风险点有哪些（兼容性/破坏性/目录边界）
4) 建议的最小 PR 粒度拆分（只列标题，不写实现）

【限制】
- 不要修改任何文件
- 不要输出大段教程，只输出结论清单

【输出格式】
- 现状摘要：
- 相关文件定位：
- 风险点：
- 建议 PR 拆分：

---

## C. 计划先行块（Plan-first）
> 目标：输出“文件级改动计划 + 验收清单”，不直接写代码
【任务】
基于只读摸底结果，为 PR-?? 输出改动计划：
1) 目标（一句话）
2) 改动清单（按文件：新增/修改/删除，逐条说明原因）
3) 验收清单（Windows CMD：命令 + 预期结果）
4) 风险与回滚（至少1条）

【输出格式】
- Goal：
- File-level Plan：
- Verification（CMD）：
- Risk & Rollback：

---

## D. 实现块（Implement with Guardrails）
> 目标：让 Codex 按计划改代码，并在输出里自证不跑偏
【任务】
按“File-level Plan”实施改动：
- 只允许改动白名单目录内文件
- 不允许顺手重构/扩展范围
- 每项改动必须对应计划中的某一条

【交付要求】
1) 列出实际修改文件清单（与计划逐条对齐）
2) 给出验收命令（Windows CMD）与预期结果
3) 如果发现计划不足：停止实现，先返回补充计划

【输出格式】
- Changes Made（mapped to plan）：
- Verification（CMD）：
- Notes / Risks：

---

## E. 排错块（Debug, Localized Fix）
> 目标：只解决当前报错，不扩大改动
【输入】
- 报错信息（原样粘贴）
- 相关文件路径与关键代码片段
- 我已做过的尝试（如有）

【任务】
1) 解释报错根因（1-3条）
2) 给出最小修复（限定在 1-2 个文件）
3) 给出验证命令（Windows CMD）
4) 提醒可能的副作用

【限制】
- 不要建议大重构
- 不要改动无关模块

---

## F. 验收回报块（Verification Report）
> 目标：把“可复现证据”写进 DAILY_LOG / PR 描述
【任务】
请把以下验收过程整理成“证据报告”（简洁）：
- 我运行的命令：
- 关键输出/现象：
- 结论：PASS/FAIL
- 若 FAIL：下一步最小动作

【输出格式】
- Commands：
- Evidence：
- Result：
- Next Action：

---

## G. DAILY_LOG 生成块（事实账本，给 AI/协作者看的）
> 使用：每天结束前，把今天做过的事情喂给 AI，让它按模板输出
【任务】
请按 memory-bank/DAILY_LOG.md 的“精简模板”输出今日条目。
规则：只写 PR 与 技术栈学习；每条必须含 Verified 与 Result；没有就省略。

【输入】
- 今日发生的事实（我给你的要点/命令/结果）

---

## H. PR 描述生成块（配合 .github PR 模板）
【任务】
基于本次改动与验收证据，生成 PR 描述（简洁、可审查）：
- What：做了什么
- Why：为什么做
- How to verify：如何验证（命令/入口）
- Risk & rollback：风险与回滚

【限制】
- 不写空话
- 必须包含可复现验收步骤（Windows CMD）
